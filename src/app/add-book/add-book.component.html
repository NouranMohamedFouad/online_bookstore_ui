<div class="center-container">
  <h2>
    Add Book
  </h2>
</div>
<div class="container my-5 form-container">
<form [formGroup]="addBookForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="title" class="form-label">Title:</label>
      <input class="form-control" id="title" formControlName="title" type="text">
      @if (addBookForm.get('title')?.invalid && addBookForm.get('title')?.touched) {
        <div>Title is required.</div>
      }
    </div>
  
    <div class="mb-3">
      <label for="author" class="form-label" >Author:</label>
      <input class="form-control" id="author" formControlName="author" type="text">
      @if (addBookForm.get('author')?.invalid && addBookForm.get('author')?.touched) {
        <div>Author is required and must be at least 3 characters long.</div>
      }
    </div>
  
    <div  class="mb-3">
      <label for="description" class="form-label">Description:</label>
      <textarea id="description" formControlName="description"></textarea>
    </div>
  
    <div class="mb-3">
      <label for="price"  class="form-label">Price:</label>
      <input class="form-control" id="price" formControlName="price" type="number">
      @if (addBookForm.get('price')?.invalid && addBookForm.get('price')?.touched) {
        <div>Price is required and must be a positive number.</div>
      }
    </div>
  
    <div class="mb-3" >
      <label for="stock" class="form-label">Stock:</label>
      <input class="form-control" id="stock" formControlName="stock" type="number">
      @if (addBookForm.get('stock')?.invalid && addBookForm.get('stock')?.touched) {
        <div>Stock is required and cannot be negative.</div>
      }
    </div>
  
    <div class="mb-3">
      <label for="image" class="form-label">Image:</label>
      <input class="form-control" id="image" type="file" (change)="onFileChange($event)">
      @if (addBookForm.get('image')?.invalid && addBookForm.get('image')?.touched) {
        <div>Image is required and must be a valid file (jpg, jpeg, png, gif).</div>
      }
    </div>
  
    <div class="mb-3">
      <label for="category"  class="form-label">Category:</label>
      <select class="form-control" id="category" formControlName="category">
        @for (category of categories; track category) {
          <option  [value]="category">{{ category }}</option>
        }
      </select>
      @if (addBookForm.get('category')?.invalid && addBookForm.get('category')?.touched) {
        <div>Category is required.</div>
      }
    </div>
  
    <button class="btn btn-primary" type="submit" [disabled]="addBookForm.invalid">Add Book</button>
  </form>
</div>